<!--
@license
Copyright (c) 2015 The expand.js authors. All rights reserved.
This code may only be used under the BSD style license found at https://expandjs.github.io/LICENSE.txt
The complete set of authors may be found at https://expandjs.github.io/AUTHORS.txt
The complete set of contributors may be found at https://expandjs.github.io/CONTRIBUTORS.txt
-->

<!--
This element is used to wrap a material demo.

@element mat-demo
@description This element is used to wrap a material demo.
@homepage http://www.expandjs.com/elements/mat-demo

@dependency polymer Polymer/polymer#^0.5
@dependency expandjs ExpandJS/expandjs
@dependency mat-header-panel ExpandJS/mat-header-panel
@dependency mat-shell ExpandJS/mat-shell
@dependency xp-embedded-state ExpandJS/xp-embedded-state
-->

<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../expandjs/expandjs.html">
<link rel="import" href="../mat-header-panel/mat-header-panel.html">
<link rel="import" href="../mat-header-panel/mat-header.html">
<link rel="import" href="../mat-shell/mat-shell.html">
<link rel="import" href="../xp-embedded-state/xp-embedded-state.html">

<polymer-element name="mat-demo" constructor="MATDemoElement" attributes="embedded label theme">

    <template>
        <style>
            :host {
                display: block;
                overflow: visible;

                /* FIT */
                bottom: 0;
                left: 0;
                position: absolute;
                right: 0;
                top: 0;
            }

            :host ::content h1 {
                margin: 0;
                padding: 32px 0 16px 0;

                /* TITLE */
                font-size: 20px;
                font-weight: 500;
                letter-spacing: 0.005em;
                line-height: 24px;
                text-overflow: ellipsis;
                white-space: nowrap;
            }

            :host #matDemoWrapper {
                text-align: center;
            }

            :host([embedded]) #matDemoHeader::shadow #matHeaderWrapper {
                background: transparent !important;
                height: 0 !important;
            }

            :host #matDemoLabel {
                overflow: hidden;
                text-overflow: ellipsis;
            }

            :host([embedded]) #matDemoToggle {
                position: absolute;
                right: 12px;
                top: 8px;
            }

            polyfill-next-selector { content: '[mobile]:not([device="tablet"]) :host([embedded]) #matDemoToggle' }
            :host-context([mobile]:not([device="tablet"])):host([embedded]) #matDemoToggle {
                right: 4px;
                top: 4px;
            }

            :host #matDemoBody {
                box-sizing: border-box;
                min-height: 100%;
                padding: 32px 16px;
            }
        </style>
        <template context="{{}}" is="xp-embedded-state" id="xpEmbeddedState" embedded="{{embedded}}"></template>
        <mat-shell id="matDemoShell" theme="{{dark ? 'dark' : 'light'}}">
            <mat-header-panel id="matDemoWrapper" mode="fixed">
                <mat-header id="matDemoHeader" background="indigo">
                    <div id="matDemoLabel" flex>Demo &gt; {{label}}</div>
                    <mat-icon-button id="matDemoToggle" active="{{dark}}" activeIcon="image:brightness-3" color="{{embedded ? '' : 'white'}}" icon="image:brightness-5" toggleable></mat-icon-button>
                </mat-header>
                <div id="matDemoBody"><content id="content"></content></div>
            </mat-header-panel>
        </mat-shell>
    </template>

    <script>
        XPElement({

            // PUBLISH
            publish: {

                /**
                 * If set to true, the theme is dark.
                 *
                 * @attribute dark
                 * @type boolean
                 * @default false
                 */
                dark: {reflect: false, value: false},

                /**
                 * If set to true, the demo is embedded into an iframe.
                 *
                 * @attribute embedded
                 * @type boolean
                 * @default false
                 * @readonly
                 */
                embedded: {reflect: true, value: false},

                /**
                 * The demo's label.
                 *
                 * @attribute label
                 * @type string
                 * @default ''
                 */
                label: {reflect: true, value: ''}
            }
        });
    </script>

</polymer-element>